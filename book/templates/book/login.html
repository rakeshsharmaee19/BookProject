{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>login</title>
  <link rel="stylesheet" href="{% static 'book/custom.css' %}">
</head>

<body>
  {% csrf_token %}
  <Section class="container">
    <div class="main_border" style="text-align: left;">
      <h1 style="text-align: center;">LITReview</h1>
      <div style="padding: 10px 20px;">
        <p>Register Now</p>
        <button onclick="redirectToRegister()">Register</button>
      </div>
      <form method="post" action="{% url 'user-login' %}">
        <p style="text-align: center;">Login</p>
        <div>
          <input type="text" id="username" placeholder="Username">
        </div>
        <div>
          <input type="password" id="password" placeholder="Password">
        </div>

        <div class="btn_sec">
          <button type="submit">Log in</button>
        </div>
      </form>
    </div>
  </Section>
{#  <script src="constant.js"></script>#}
  <script>
    function redirectToRegister() {
      // Redirect to register.html
      window.location.href = 'registration/';
    }
  </script>
{#    function performLogin() {#}
{#      // Get user input#}
{#      var username = document.getElementById('username').value;#}
{#      var password = document.getElementById('password').value;#}
{#      console.log(username, password, "console")#}
{#      // Make a fetch request to the login endpoint#}
{#      fetch(`${Host}`, {#}
{#        method: 'POST',#}
{#        headers: {#}
{#          'Content-Type': 'application/json',#}
{#        },#}
{#        body: JSON.stringify({#}
{#          username: username,#}
{#          password: password,#}
{#        }),#}
{#      })#}
{#        .then(response => {#}
{#          console.log(response, "response")#}
{#          // Check if the response is successful (status code 2xx)#}
{#          if (response.ok) {#}
{#            // Parse the response JSON#}
{#            return response.json();#}
{#          } else {#}
{#            // Handle unsuccessful login (e.g., display an error message)#}
{#            alert('Login failed. Please check your credentials.');#}
{#            throw new Error('Login failed');#}
{#          }#}
{#        })#}
{#        .then(data => {#}
{#          console.log(data, "data")#}
{#          // Assuming the token is present in the 'token' property of the response data#}
{#          var token = data.data.token;#}
{#          console.log(token, "token")#}
{#          // Store the token in local storage#}
{#          localStorage.setItem('authToken', token);#}
{##}
{#          // Redirect to a success page or perform other actions#}
{#          window.location.href = 'success.html';#}
{#        })#}
{#        .catch(error => {#}
{#          console.error('Error during login:', error);#}
{#        });#}
{#    }#}
{#  </script>#}
</body>

</html>